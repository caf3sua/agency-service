{"swagger":"2.0","info":{"description":"REST API documentation for Baoviet Agency Project","version":"0.0.1","title":"Baoviet Agency REST API","termsOfService":"https://baovietonline.com/","contact":{"name":"Nam, Nguyen Hoai","email":"namnh@itsol.vn"},"license":{"name":"Apache License Version 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"}},"host":"localhost:9090","basePath":"/","tags":[{"name":"product-kcare-resource","description":"Operations about kcare product"}],"paths":{"/api/agency/product/kcare/benefit/all":{"get":{"tags":["product-kcare-resource"],"summary":"Hàm lấy danh sách lợi ích của bảo hiểm ung thu KCARE.","description":"Hàm lấy danh sách lợi ích của bảo hiểm ung thu KCARE.","operationId":"getAllBenefitUsingGET","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/KcareBenefit"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"Bearer":[]}],"x-roles":{"agency":"advisors are allowed getting every location"}}},"/api/agency/product/kcare/createPolicy":{"post":{"tags":["product-kcare-resource"],"summary":"Tạo yêu cầu Bảo hiểm ung thu KCARE.","description":"- Tuổi người được bảo hiểm được tính theo: ngày sinh người được bảo hiểm và thời hạn bảo hiểm từ</br>  + Độ tuổi tham gia bảo hiểm chỉ từ: 16 đến 55 tuổi</br>- Nếu trả lời có trong câu hỏi 4 về thông tin tình trạng sức khỏe là có thì phải cung cấp thông tin về tình trạng sức khỏe( tham chiếu thông tin về TINHTRANG_SK_BASE)</br>- Nếu nhập 1 trong các thông tin về người thụ hưởng bảo hiểm thì phải nhập đầy đủ tất cả các thông tin về người thụ hưởng: tên người thụ hưởng, quan hệ, CMND/Hộ Chiếu, ngày sinh người thụ hưởng.</br>- Nếu nhập 1 trong các thông tin về người nhận bảo hiểm thì phải nhập đầy đủ tất cả các thông tin về người thụ hưởng: tên người nhận tiền, quan hệ, CMND/Hộ Chiếu, ngày sinh người nhận tiền.</br>- Người nhận tiền phải >= 18 tuổi</br>- Nếu khách hàng có lấy hóa đơn GTGT(INVOICE_CHECK = 1) thì cần phải bổ sung thông tin viết hóa đơn GTGT</br>  + Đối với cá nhân: Họ tên người mua, địa chỉ</br>  + Đối với công ty: Tên đơn vị, Mã số thuế, địa chỉ</br>","operationId":"createPolicyUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"param","description":"param","required":true,"schema":{"$ref":"#/definitions/KcareBaseVM"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/KcareBaseVM"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"Bearer":[]}],"x-roles":{"agency":"agency are allowed"}}},"/api/agency/product/kcare/premium":{"post":{"tags":["product-kcare-resource"],"summary":"Hàm tính phí Bảo hiểm ung thu KCARE.","description":"Hàm tính phí Bảo hiểm ung thu KCARE.","operationId":"getPremiumUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"param","description":"param","required":true,"schema":{"$ref":"#/definitions/PremiumKcareVM"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PremiumKcareVM"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"Bearer":[]}],"x-roles":{"agency":"agency are allowed"}}},"/api/agency/product/kcare/updatePolicy":{"post":{"tags":["product-kcare-resource"],"summary":"Cập nhật yêu cầu Bảo hiểm ung thu KCARE.","description":"Cập nhật yêu cầu Bảo hiểm ung thu KCARE.","operationId":"updatePolicyUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"param","description":"param","required":true,"schema":{"$ref":"#/definitions/UpdateAgreementKcareVM"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UpdateAgreementKcareVM"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"Bearer":[]}],"x-roles":{"agency":"agency are allowed"}}}},"definitions":{"TinhtrangSkDTO":{"type":"object","required":["benhvienorbacsy","chitietdieutri","chuandoan","ketqua","ngaydieutri"],"properties":{"benhvienorbacsy":{"type":"string","description":"Tên, địa chỉ bác sĩ/bệnh viện điều trị"},"bvSysdate":{"type":"string","example":"dd/MM/yyyy"},"chitietdieutri":{"type":"string","description":"Chi tiết điều trị"},"chuandoan":{"type":"string","description":"Chuẩn đoán"},"congtybh":{"type":"string"},"dkdacbiet":{"type":"string"},"id":{"type":"string"},"idThamchieu":{"type":"string"},"ketqua":{"type":"string","description":"Kết quả"},"khuoctu":{"type":"string"},"lydodc":{"type":"string"},"lydoycbt":{"type":"string"},"masanpham":{"type":"string"},"ngaybatdau":{"type":"string","example":"dd/MM/yyyy"},"ngaydieutri":{"type":"string","description":"Ngày khám/điều trị"},"ngayhethan":{"type":"string","example":"dd/MM/yyyy"},"ngayycbt":{"type":"string","example":"dd/MM/yyyy"},"questionThamchieu":{"type":"string"},"sohd":{"type":"string"},"sotienbh":{"type":"number","format":"double"},"sotienycbt":{"type":"number","format":"double"}}},"KcareBaseVM":{"type":"object","required":["contactCode","contactDob","contactName","insuredIdNumber","insuredName","insuredNgaysinh","insuredRelationship","invoiceCheck","netPremium","planId","q1","q2","q3","q4","q5","receiverAddress","receiverEmail","receiverMobile","receiverName","thoihantu","totalPremium","type"],"properties":{"beneficiaryIdNumber":{"type":"string","description":"Số CMND/Hộ chiếu/Số giấy khai sinh người thụ hưởng"},"beneficiaryIdNumberD":{"type":"string","description":"Số Chứng minh nhân dân/Hộ chiếu người nhận tiền"},"beneficiaryName":{"type":"string","description":"Họ tên người thụ hưởng"},"beneficiaryNameD":{"type":"string","description":"Họ tên người nhận tiền"},"beneficiaryNgaysinh":{"type":"string","description":"Ngày sinh người thụ hưởng"},"beneficiaryNgaysinhD":{"type":"string","description":"Ngày sinh người nhận tiền"},"beneficiaryRelationship":{"type":"string","description":"Quan hệ với người được bảo hiểm","enum":["31","32","33"]},"beneficiaryRelationshipD":{"type":"string","description":"Quan hệ với người được bảo hiểm","enum":["31","32","33"]},"changePremium":{"type":"number","format":"double","description":"Tăng giảm phí"},"contactCode":{"type":"string","description":"Mã khách hàng do đối tác truyền vào"},"contactDob":{"type":"string","description":"Ngày sinh người yêu cầu bảo hiểm"},"contactName":{"type":"string","description":"Họ và tên người yêu cầu bảo hiểm"},"insuredIdNumber":{"type":"string","description":"Số Chứng minh nhân dân/Hộ chiếu người được bảo hiểm"},"insuredName":{"type":"string","description":"Họ tên người được bảo hiểm"},"insuredNgaysinh":{"type":"string","description":"Ngày sinh người được bảo hiểm"},"insuredRelationship":{"type":"string","description":"Quan hệ với người Yêu cầu bảo hiểm","enum":["30","31","32","33","34"]},"insuredSex":{"type":"string","description":"Giới tính người được bảo hiểm"},"invoiceAccountNo":{"type":"string"},"invoiceAddress":{"type":"string","description":"Địa chỉ đơn vị"},"invoiceBuyer":{"type":"string","description":"Họ và tên người mua"},"invoiceCheck":{"type":"integer","format":"int32","description":"Có lấy hóa đơn GTGT","enum":[0,1]},"invoiceCompany":{"type":"string","description":"Tên đơn vị"},"invoiceTaxNo":{"type":"string","description":"Mã số thuế"},"lstTinhtrangSKs":{"type":"array","description":"danh sách câu trả lời về tình trạng sức khỏe tham chiếu","items":{"$ref":"#/definitions/TinhtrangSkDTO"}},"netPremium":{"type":"number","format":"double","description":"Phí bảo hiểm / năm"},"planId":{"type":"string","description":"Chương trình bảo hiểm","enum":["PGM1","PGM2","PGM3"]},"policyNumber":{"type":"string","description":"Số HĐ/GCN - Hệ thống tự sinh và sẽ trả kết quả về khi thực hiện ghi dữ liệu thành công"},"q1":{"type":"string","description":"Trả lời câu hỏi 1: thông tin tình trạng sức khỏe","enum":["0","1"]},"q2":{"type":"string","description":"Trả lời câu hỏi 2: thông tin tình trạng sức khỏe","enum":["0","1"]},"q3":{"type":"string","description":"Trả lời câu hỏi 3: thông tin tình trạng sức khỏe","enum":["0","1"]},"q4":{"type":"string","description":"Trả lời câu hỏi 4: thông tin tình trạng sức khỏe","enum":["0","1"]},"q5":{"type":"string","description":"Trả lời câu hỏi 5: thông tin tình trạng sức khỏe","enum":["0","1"]},"qresultCan":{"type":"string"},"qresultTre":{"type":"string"},"qtreatment":{"type":"string"},"qtypeCancer":{"type":"string"},"receiverAddress":{"type":"string","description":"Địa chỉ người nhận"},"receiverEmail":{"type":"string","description":"Email người nhận"},"receiverMobile":{"type":"string","description":"Số điện thoại liên hệ của người nhận"},"receiverName":{"type":"string","description":"Họ và tên người nhận"},"thoihanden":{"type":"string","description":"Ngày kết thúc hiệu lực BH"},"thoihantu":{"type":"string","description":"Ngày bắt đầu hiệu lực BH"},"totalPremium":{"type":"number","format":"double","description":"Tổng tiền thanh toán"},"type":{"type":"string","description":"Mã đối tác của Bảo Việt(VD: VIETTELPOST)"}}},"KcareBenefit":{"type":"object","properties":{"kcareBenefitId":{"type":"string"},"planId":{"type":"string"},"planName":{"type":"string"},"siChetTaiNan":{"type":"number","format":"double"},"siChetUngThu":{"type":"number","format":"double"},"siTcnv":{"type":"number","format":"double"},"siTcnv1":{"type":"number","format":"double"},"siTcnv2":{"type":"number","format":"double"},"siUngThu":{"type":"number","format":"double"},"siUngThu1":{"type":"number","format":"double"},"siUngThu2":{"type":"number","format":"double"},"suminsured":{"type":"number","format":"double"}}},"AgreementDTO":{"type":"object","properties":{"agencyId":{"type":"string"},"agencyName":{"type":"string"},"agencyP1Id":{"type":"string"},"agencyP1Name":{"type":"string"},"agencyP2Id":{"type":"string"},"agencyP2Name":{"type":"string"},"agencyP3Id":{"type":"string"},"agencyP3Name":{"type":"string"},"agencyP4Id":{"type":"string"},"agencyP4Name":{"type":"string"},"agencyP5Id":{"type":"string"},"agencyP5Name":{"type":"string"},"agencyP6Id":{"type":"string"},"agencyP6Name":{"type":"string"},"agentId":{"type":"string"},"agentName":{"type":"string"},"agreementId":{"type":"string"},"agreementSysdate":{"type":"string","format":"date-time"},"bankId":{"type":"string"},"bankName":{"type":"string"},"baovietCompanyId":{"type":"string"},"baovietCompanyName":{"type":"string"},"baovietDepartmentId":{"type":"string"},"baovietDepartmentName":{"type":"string"},"cancelPolicyCommision":{"type":"number","format":"double"},"cancelPolicyCommision2":{"type":"number","format":"double"},"cancelPolicyCommision3":{"type":"number","format":"double"},"cancelPolicyDate":{"type":"string","format":"date-time"},"cancelPolicyPremium":{"type":"number","format":"double"},"cancelPolicyPremium2":{"type":"number","format":"double"},"cancelPolicyPremium3":{"type":"number","format":"double"},"cancelPolicySupport":{"type":"number","format":"double"},"cancelPolicySupport2":{"type":"number","format":"double"},"cancelPolicySupport3":{"type":"number","format":"double"},"changePremium":{"type":"number","format":"double"},"claimRate":{"type":"number","format":"double"},"claimRate1":{"type":"number","format":"double"},"claimRate2":{"type":"number","format":"double"},"commision":{"type":"number","format":"double"},"commisionSupport":{"type":"number","format":"double"},"contactAddress":{"type":"string"},"contactAddresstt":{"type":"string"},"contactDob":{"type":"string","format":"date-time"},"contactId":{"type":"string"},"contactName":{"type":"string"},"contactPhone":{"type":"string"},"contactUsername":{"type":"string"},"couponsCode":{"type":"string"},"couponsValue":{"type":"number","format":"double"},"dateOfPayment":{"type":"string","format":"date-time"},"dateOfRequirement":{"type":"string","format":"date-time"},"expiredDate":{"type":"string","format":"date-time"},"feeReceive":{"type":"number","format":"double"},"gycbhId":{"type":"string"},"gycbhNumber":{"type":"string"},"inceptionDate":{"type":"string","format":"date-time"},"invoiceAccountNo":{"type":"string"},"invoiceAddress":{"type":"string"},"invoiceBuyer":{"type":"string"},"invoiceCompany":{"type":"string"},"invoiceTaxNo":{"type":"string"},"isPolicy":{"type":"integer","format":"int32"},"lineId":{"type":"string"},"lineName":{"type":"string"},"mciAddId":{"type":"string"},"netPremium":{"type":"number","format":"double"},"oldGycbhId":{"type":"string"},"oldGycbhNumber":{"type":"string"},"oldPolicyNumber":{"type":"string"},"oldPolicyStatusId":{"type":"string"},"oldPolicyStatusName":{"type":"string"},"payDiscount":{"type":"number","format":"double"},"paymentGateway":{"type":"string"},"paymentMethod":{"type":"string"},"paymentTransactionId":{"type":"string"},"policyNumber":{"type":"string"},"policySendDate":{"type":"string","format":"date-time"},"reasonCancel":{"type":"string"},"receiveMethod":{"type":"string"},"receiverAddress":{"type":"string"},"receiverEmail":{"type":"string"},"receiverMoible":{"type":"string"},"receiverName":{"type":"string"},"renewalsChoice":{"type":"string"},"renewalsDes1":{"type":"string"},"renewalsDes2":{"type":"string"},"renewalsPremium":{"type":"number","format":"double"},"renewalsPremium1":{"type":"number","format":"double"},"renewalsPremium2":{"type":"number","format":"double"},"renewalsRate":{"type":"number","format":"double"},"renewalsRate1":{"type":"number","format":"double"},"renewalsRate2":{"type":"number","format":"double"},"renewalsReason":{"type":"string"},"renewalsSi":{"type":"number","format":"double"},"responseDate":{"type":"string","format":"date-time"},"sendDate":{"type":"string","format":"date-time"},"standardPremium":{"type":"number","format":"double"},"statusGycbhId":{"type":"string"},"statusGycbhName":{"type":"string"},"statusPolicyId":{"type":"string"},"statusPolicyName":{"type":"string"},"statusRenewalsId":{"type":"string"},"statusRenewalsId1":{"type":"string"},"statusRenewalsId2":{"type":"string"},"statusRenewalsName":{"type":"string"},"statusRenewalsName1":{"type":"string"},"statusRenewalsName2":{"type":"string"},"subject":{"type":"string"},"taxIdNumber":{"type":"string"},"teamId":{"type":"string"},"teamName":{"type":"string"},"totalPremium":{"type":"number","format":"double"},"totalVat":{"type":"number","format":"double"},"typeOfPrint":{"type":"string"},"userAgent":{"type":"string"},"userId":{"type":"string"},"userName":{"type":"string"}}},"UpdateAgreementKcareVM":{"type":"object","required":["agreement","kcare"],"properties":{"agreement":{"$ref":"#/definitions/AgreementDTO"},"kcare":{"$ref":"#/definitions/KcareDTO"},"lstTinhtrangSKs":{"type":"array","items":{"$ref":"#/definitions/TinhtrangSkDTO"}},"result":{"type":"boolean"}}},"PremiumKcareVM":{"type":"object","required":["gioiTinh","ngayBatDau","ngaySinh","typeOfKcare"],"properties":{"gioiTinh":{"type":"string","description":"Giới tính","enum":["1","2"]},"ngayBatDau":{"type":"string","description":"Thời hạn bảo hiểm","enum":["dd/MM/yyyy"]},"ngaySinh":{"type":"string","description":"Ngày sinh","enum":["dd/MM/yyyy"]},"premiumDiscount":{"type":"number","format":"double","description":"Phần trăm giảm phí","enum":[0.0]},"premiumKCare":{"type":"number","format":"double","description":"Phí bảo hiểm sau khi giảm","enum":[0.0]},"premiumNet":{"type":"number","format":"double","description":"Phí bảo hiểm chưa giảm","enum":[0.0]},"typeOfKcare":{"type":"string","description":"Chương trình bảo hiểm","enum":["PGM1","PGM2","PGM3"]}},"description":"Premium kcare model for calculate premium"},"KcareDTO":{"type":"object","properties":{"agentId":{"type":"string"},"agentName":{"type":"string"},"bankConfirm":{"type":"string"},"bankId":{"type":"string"},"bankName":{"type":"string"},"bankNote":{"type":"string"},"baovietConfirm":{"type":"string"},"baovietDepartmentId":{"type":"string"},"baovietDepartmentName":{"type":"string"},"baovietId":{"type":"string"},"baovietName":{"type":"string"},"baovietNote":{"type":"string"},"beneficiaryAddress":{"type":"string"},"beneficiaryAddressD":{"type":"string"},"beneficiaryDob":{"type":"string","format":"date-time"},"beneficiaryDobD":{"type":"string","format":"date-time"},"beneficiaryEmail":{"type":"string"},"beneficiaryEmailD":{"type":"string"},"beneficiaryIdNumber":{"type":"string"},"beneficiaryIdNumberD":{"type":"string"},"beneficiaryName":{"type":"string"},"beneficiaryNameD":{"type":"string"},"beneficiaryPhone":{"type":"string"},"beneficiaryPhoneD":{"type":"string"},"beneficiaryRelationship":{"type":"string"},"beneficiaryRelationshipD":{"type":"string"},"changePremium":{"type":"number","format":"double"},"contactCode":{"type":"string"},"contactEmail":{"type":"string"},"contactGoitinhId":{"type":"string"},"contactGoitinhName":{"type":"string"},"contactId":{"type":"string"},"contactMobilePhone":{"type":"string"},"contactName":{"type":"string"},"contactPhone":{"type":"string"},"couponsCode":{"type":"string"},"couponsValue":{"type":"number","format":"double"},"dateOfBirth":{"type":"string","format":"date-time"},"dateOfPayment":{"type":"string","format":"date-time"},"expiredDate":{"type":"string","format":"date-time"},"feeReceive":{"type":"number","format":"double"},"inceptionDate":{"type":"string","format":"date-time"},"insuredAddress":{"type":"string"},"insuredDob":{"type":"string"},"insuredIdNumber":{"type":"string"},"insuredName":{"type":"string"},"insuredOccupation":{"type":"string"},"insuredSex":{"type":"string"},"invoiceAccountNo":{"type":"string"},"invoiceAddress":{"type":"string"},"invoiceBuyer":{"type":"string"},"invoiceCheck":{"type":"integer","format":"int32"},"invoiceCompany":{"type":"string"},"invoiceTaxNo":{"type":"string"},"kid":{"type":"string"},"messageId":{"type":"number","format":"double"},"netPremium":{"type":"number","format":"double"},"note":{"type":"string"},"paymentMethod":{"type":"string"},"permanentAddress":{"type":"string"},"planId":{"type":"string"},"planName":{"type":"string"},"policyDeliver":{"type":"string","format":"date-time"},"policyNumber":{"type":"string"},"postalAddress":{"type":"string"},"propserNgaysinh":{"type":"string","format":"date-time"},"propserTitle":{"type":"string"},"q1":{"type":"string"},"q10":{"type":"string"},"q2":{"type":"string"},"q3":{"type":"string"},"q4":{"type":"string"},"q5":{"type":"string"},"q6":{"type":"string"},"q7":{"type":"string"},"q8":{"type":"string"},"q9":{"type":"string"},"qdayTreatment":{"type":"string","format":"date-time"},"qdiagnose":{"type":"string"},"qhopital":{"type":"string"},"qpatient":{"type":"string"},"qrelationship":{"type":"string"},"qresultCan":{"type":"string"},"qresultTre":{"type":"string"},"qtreatment":{"type":"string"},"qtypeCancer":{"type":"string"},"receiverAddress":{"type":"string"},"receiverEmail":{"type":"string"},"receiverMoible":{"type":"string"},"receiverName":{"type":"string"},"reqDate":{"type":"string","format":"date-time"},"responseDate":{"type":"string","format":"date-time"},"sendDate":{"type":"string","format":"date-time"},"smartappSysdate":{"type":"string","format":"date-time"},"soGycbh":{"type":"string"},"statusId":{"type":"string"},"statusName":{"type":"string"},"statusPolicyId":{"type":"string"},"statusPolicyName":{"type":"string"},"taxIdNumber":{"type":"string"},"teamId":{"type":"string"},"teamName":{"type":"string"},"totalPremium":{"type":"number","format":"double"},"totalVat":{"type":"number","format":"double"},"travelWithId":{"type":"string"},"travelWithName":{"type":"string"},"userId":{"type":"string"},"userName":{"type":"string"}}}}}